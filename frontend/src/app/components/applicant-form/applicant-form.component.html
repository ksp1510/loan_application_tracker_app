<!-- applicant-form.component.html -->
<div class="applicant-form" [formGroup]="formGroup">
    <!-- Personal Information -->
    <div class="form-section">
      <h4>Personal Information</h4>
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="first_name">
          @if (isFieldInvalid('first_name')) {
            <mat-error>{{ getFieldError('first_name') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Middle Name</mat-label>
          <input matInput formControlName="middle_name">
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="last_name">
          @if (isFieldInvalid('last_name')) {
            <mat-error>{{ getFieldError('last_name') }}</mat-error>
          }
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="dobPicker" formControlName="date_of_birth">
          <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
          <mat-datepicker #dobPicker></mat-datepicker>
          @if (isFieldInvalid('date_of_birth')) {
            <mat-error>{{ getFieldError('date_of_birth') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>SIN</mat-label>
          <input matInput formControlName="SIN" placeholder="123-456-789">
          @if (isFieldInvalid('SIN')) {
            <mat-error>{{ getFieldError('SIN') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email">
          @if (isFieldInvalid('email')) {
            <mat-error>{{ getFieldError('email') }}</mat-error>
          }
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Cell Phone</mat-label>
          <input matInput formControlName="cell_phone" placeholder="(123) 456-7890">
          @if (isFieldInvalid('cell_phone')) {
            <mat-error>{{ getFieldError('cell_phone') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Marital Status</mat-label>
          <mat-select formControlName="marital_status">
            <mat-option *ngFor="let status of maritalStatusOptions" [value]="status">
              {{ status }}
            </mat-option>
          </mat-select>
          @if (isFieldInvalid('marital_status')) {
            <mat-error>{{ getFieldError('marital_status') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Number of Dependents</mat-label>
          <input matInput type="number" formControlName="dependents" min="0">
        </mat-form-field>
      </div>
  
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Status in Canada</mat-label>
        <mat-select formControlName="status_in_canada">
          <mat-option *ngFor="let status of statusInCanadaOptions" [value]="status">
            {{ status }}
          </mat-option>
        </mat-select>
        @if (isFieldInvalid('status_in_canada')) {
          <mat-error>{{ getFieldError('status_in_canada') }}</mat-error>
        }
      </mat-form-field>
    </div>
  
    <!-- Address Information -->
    <div class="form-section" formGroupName="address">
      <h4>Address</h4>
      <div class="form-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Street Address</mat-label>
          <input matInput formControlName="street">
          @if (isFieldInvalid('address.street')) {
            <mat-error>{{ getFieldError('address.street') }}</mat-error>
          }
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>City</mat-label>
          <input matInput formControlName="city">
          @if (isFieldInvalid('address.city')) {
            <mat-error>{{ getFieldError('address.city') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Province</mat-label>
          <mat-select formControlName="province">
            <mat-option *ngFor="let province of provinces" [value]="province">
              {{ province }}
            </mat-option>
          </mat-select>
          @if (isFieldInvalid('address.province')) {
            <mat-error>{{ getFieldError('address.province') }}</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Postal Code</mat-label>
          <input matInput formControlName="postal_code" placeholder="K1A 0A6">
          @if (isFieldInvalid('address.postal_code')) {
            <mat-error>{{ getFieldError('address.postal_code') }}</mat-error>
          }
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Monthly Rent</mat-label>
          <input matInput type="number" formControlName="rent" min="0">
          <span matPrefix>$</span>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Duration at Address (months)</mat-label>
          <input matInput type="number" formControlName="duration_at_address" min="0">
        </mat-form-field>
      </div>
    </div>

    <!-- Employment Information -->
    <div class="form-section" formGroupName="employment">
      <h4>Employment Information</h4>
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Company Name</mat-label>
          <input matInput formControlName="company_name">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Position</mat-label>
          <input matInput formControlName="position">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Length of Service (months)</mat-label>
          <input matInput type="number" formControlName="length_of_service">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Gross Monthly Income</mat-label>
          <input matInput type="number" formControlName="gross_income">
          <span matPrefix>$</span>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Company Address</mat-label>
          <input matInput formControlName="company_address">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Company Phone</mat-label>
          <input matInput formControlName="company_phone">
        </mat-form-field>
      </div>
    </div>
</div>